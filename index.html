<!DOCTYPE html>
<html>
<head>
    <title>OIIX NOTAM Live Map</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { padding: 0; margin: 0; }
        #map { height: 100vh; width: 100vw; }
    </style>
</head>
<body>
    <div id="map"></div>
    <script>
        var googleStreets = L.tileLayer('https://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}',{maxZoom: 20, subdomains:['mt0','mt1','mt2','mt3'], attribution: 'Map data © Google'});
        var googleHybrid = L.tileLayer('https://{s}.google.com/vt/lyrs=y&x={x}&y={y}&z={z}',{maxZoom: 20, subdomains:['mt0','mt1','mt2','mt3'], attribution: 'Map data © Google'});
        var googleSat = L.tileLayer('https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}',{maxZoom: 20, subdomains:['mt0','mt1','mt2','mt3'], attribution: 'Map data © Google'});
        var googleTerrain = L.tileLayer('https://{s}.google.com/vt/lyrs=p&x={x}&y={y}&z={z}',{maxZoom: 20, subdomains:['mt0','mt1','mt2','mt3'], attribution: 'Map data © Google'});
        
        var map = L.map('map', {
            center: [32.4279, 53.6880],
            zoom: 5,
            layers: [googleStreets]
        });
        
        var baseMaps = {
            "Standard Map": googleStreets,
            "Satellite": googleSat,
            "Hybrid (Satellite + Borders/Roads)": googleHybrid,
            "Terrain": googleTerrain
        };
        
        var firLayer = L.geoJSON(null, {
            style: function(feature) {
                return {color: "#0055ff", weight: 2, fillOpacity: 0.05};
            },
            onEachFeature: function(feature, layer) {
                if (feature.properties && feature.properties.id) {
                    layer.bindPopup("<b>FIR Airspace:</b> " + feature.properties.id);
                }
            }
        });

        fetch('https://raw.githubusercontent.com/vatsimnetwork/vatspy-data-project/master/Boundaries.geojson')
            .then(res => {
                if (!res.ok) throw new Error("Network response was not ok");
                return res.json();
            })
            .then(data => firLayer.addData(data))
            .catch(err => console.error("Could not load FIR boundaries:", err));

        var overlayMaps = {
            "Show Airspace Boundaries (FIR)": firLayer
        };
        
        L.control.layers(baseMaps, overlayMaps).addTo(map);
        
        var markers = {};
markers['A3716/25'] = L.polygon([[28.450833, 52.095278], [28.633611, 53.423056], [28.383333, 53.6], [27.95, 53.883333], [27.251111, 54.478889], [26.766667, 51.699444]], {color: '#ff0000', weight: 2, fillOpacity: 0.2}).addTo(map).bindPopup('<b>A3716/25</b><br>Control area (CTA)');
markers['A0065/26'] = L.polygon([[35.416667, 46.85], [35.416667, 47], [35.25, 46.85], [35.333333, 46.75]], {color: '#ff0000', weight: 2, fillOpacity: 0.2}).addTo(map).bindPopup('<b>A0065/26</b><br>Missile, gun or rocket firing');
markers['B0038/26'] = L.polygon([[35.550556, 61.220278], [35.533333, 61.2575], [35.483333, 61.233056], [35.516667, 61.195278]], {color: '#ff0000', weight: 2, fillOpacity: 0.2}).addTo(map).bindPopup('<b>B0038/26</b><br>Missile, gun or rocket firing');
markers['A0205/26'] = L.polygon([[31.750556, 60.775556], [31.601389, 60.775556], [31.601389, 60.676667], [31.750556, 60.676667]], {color: '#ff0000', weight: 2, fillOpacity: 0.2}).addTo(map).bindPopup('<b>A0205/26</b><br>Missile, gun or rocket firing');
markers['B0039/26'] = L.polygon([[33.383333, 60.733333], [33.366667, 60.733333], [33.366667, 60.716667], [33.383333, 60.716667]], {color: '#ff0000', weight: 2, fillOpacity: 0.2}).addTo(map).bindPopup('<b>B0039/26</b><br>Missile, gun or rocket firing');
markers['B0040/26'] = L.polygon([[37.083333, 45.75], [37, 45.5], [37, 45.083333], [37.166667, 45.5]], {color: '#ff0000', weight: 2, fillOpacity: 0.2}).addTo(map).bindPopup('<b>B0040/26</b><br>Missile, gun or rocket firing');
markers['A0207/26'] = L.polygon([[31.216667, 59.516667], [31.05, 59.6], [31.016667, 59.4], [31.2, 59.316667]], {color: '#ff0000', weight: 2, fillOpacity: 0.2}).addTo(map).bindPopup('<b>A0207/26</b><br>Missile, gun or rocket firing');
markers['B0041/26'] = L.polygon([[34.95, 59.216667], [34.9, 59.216667], [34.916667, 59.2], [34.95, 59.2]], {color: '#ff0000', weight: 2, fillOpacity: 0.2}).addTo(map).bindPopup('<b>B0041/26</b><br>Missile, gun or rocket firing');
markers['B0068/26'] = L.circle([35.683333, 61.166667], {color: '#ff9900', radius: 7408, weight: 2}).addTo(map).bindPopup('<b>B0068/26</b><br>Missile, gun or rocket firing');
markers['B0065/26'] = L.circle([35.9, 47.05], {color: '#ff9900', radius: 5556, weight: 2}).addTo(map).bindPopup('<b>B0065/26</b><br>Missile, gun or rocket firing');
markers['B0067/26'] = L.circle([35.3, 46.366667], {color: '#ff9900', radius: 5556, weight: 2}).addTo(map).bindPopup('<b>B0067/26</b><br>Missile, gun or rocket firing');
markers['B0069/26'] = L.circle([36.783333, 46.933333], {color: '#ff9900', radius: 1852, weight: 2}).addTo(map).bindPopup('<b>B0069/26</b><br>Missile, gun or rocket firing');
markers['B0070/26'] = L.circle([35.316667, 46.366667], {color: '#ff9900', radius: 1852, weight: 2}).addTo(map).bindPopup('<b>B0070/26</b><br>Missile, gun or rocket firing');
markers['B0081/26'] = L.polygon([[34.983333, 61.023611], [34.967778, 60.980556], [34.934167, 60.990278], [34.95, 61.033056]], {color: '#ff0000', weight: 2, fillOpacity: 0.2}).addTo(map).bindPopup('<b>B0081/26</b><br>Missile, gun or rocket firing');
markers['B0072/26'] = L.circle([31.216667, 59.4], {color: '#ff9900', radius: 12964, weight: 2}).addTo(map).bindPopup('<b>B0072/26</b><br>Missile, gun or rocket firing');
markers['B0090/26'] = L.circle([31.483333, 60.783333], {color: '#ff9900', radius: 7408, weight: 2}).addTo(map).bindPopup('<b>B0090/26</b><br>Missile, gun or rocket firing');
markers['B0091/26'] = L.circle([33.35, 60.733333], {color: '#ff9900', radius: 5556, weight: 2}).addTo(map).bindPopup('<b>B0091/26</b><br>Missile, gun or rocket firing');
markers['B0092/26'] = L.circle([33.733333, 60.533333], {color: '#ff9900', radius: 3704, weight: 2}).addTo(map).bindPopup('<b>B0092/26</b><br>Missile, gun or rocket firing');
markers['B0093/26'] = L.circle([31.8, 60.8], {color: '#ff9900', radius: 7408, weight: 2}).addTo(map).bindPopup('<b>B0093/26</b><br>Missile, gun or rocket firing');
markers['B0095/26'] = L.circle([32.583333, 59.733333], {color: '#ff9900', radius: 5556, weight: 2}).addTo(map).bindPopup('<b>B0095/26</b><br>Missile, gun or rocket firing');
markers['B0102/26'] = L.circle([32.383333, 60.833333], {color: '#ff9900', radius: 7408, weight: 2}).addTo(map).bindPopup('<b>B0102/26</b><br>Missile, gun or rocket firing');
markers['B0106/26'] = L.polygon([[36.8, 49.266111], [36.784167, 49.271667], [36.784167, 49.270833], [36.783889, 49.266111], [36.783889, 49.258611]], {color: '#ff0000', weight: 2, fillOpacity: 0.2}).addTo(map).bindPopup('<b>B0106/26</b><br>Missile, gun or rocket firing');
markers['B0137/26'] = L.circle([29.833333, 59.95], {color: '#ff9900', radius: 5556, weight: 2}).addTo(map).bindPopup('<b>B0137/26</b><br>Missile, gun or rocket firing');
markers['B0138/26'] = L.circle([33.2, 46.25], {color: '#ff9900', radius: 7408, weight: 2}).addTo(map).bindPopup('<b>B0138/26</b><br>Missile, gun or rocket firing');
markers['A0589/26'] = L.polygon([[33.4, 47.983333], [33.366667, 48.05], [33.35, 48.033333], [33.383333, 47.966667]], {color: '#ff0000', weight: 2, fillOpacity: 0.2}).addTo(map).bindPopup('<b>A0589/26</b><br>Missile, gun or rocket firing');
markers['B0139/26'] = L.circle([32.533333, 55.233333], {color: '#ff9900', radius: 5556, weight: 2}).addTo(map).bindPopup('<b>B0139/26</b><br>Missile, gun or rocket firing');

        
        setTimeout(function() {
            var hash = window.location.hash.substring(1);
            if (hash && markers[hash]) {
                var layer = markers[hash];
                if (layer.getBounds) {
                    map.fitBounds(layer.getBounds(), {padding: [50, 50]});
                } else {
                    map.setView(layer.getLatLng(), 8);
                }
                layer.openPopup();
            }
        }, 500);
    </script>
</body>
</html>